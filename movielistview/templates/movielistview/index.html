<!DOCTYPE html>
{% load staticfiles %}
<html>
<head>
    <!-- Site made with Mobirise Website Builder v3.12.1, https://mobirise.com -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="Mobirise v3.12.1, mobirise.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.png' %}" type="image/x-icon">
    <title>ScrapSwag</title>
    <meta name="description" content="">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;subset=latin">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <!-- Font Awesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/bootstrap-material-design-font/css/material.css' %}">
    <link rel="stylesheet" href="{% static 'assets/tether/tether.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/dropdown/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/animate.css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/socicon/css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'assets/theme/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/theme/css/custom_style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/theme/css/ripple.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/mobirise/css/mbr.additional.css' %}" type="text/css">



</head>

<body>
    <section id="menu-0">

        <nav class="navbar navbar-dropdown bg-color transparent navbar-fixed-top">
            <div class="container">

                <div class="mbr-table">
                    <div class="mbr-table-cell">

                        <div class="navbar-brand">
                            <a href="#" class="socicon socicon-odnoklassniki mbr-iconfont mbr-iconfont-menu navbar-logo"></a>
                            <a class="navbar-caption" href="#">SCRAPSWAG</a>
                        </div>

                    </div>
                    <div class="mbr-table-cell">

                        <button class="navbar-toggler pull-xs-right hidden-md-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                            <div class="hamburger-icon"></div>
                        </button>

                        <ul class="nav-dropdown collapse pull-xs-right nav navbar-nav navbar-toggleable-sm" id="exCollapsingNavbar">
                            <li class="nav-item"><a class="nav-link link" href="#">Home</a></li><li class="nav-item"><a class="nav-link link" href="#msg-box2-0">Reviewer</a></li></ul>
                        
                        <button hidden="" class="navbar-toggler navbar-close" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                            <div class="close-icon"></div>
                        </button>

                    </div>
                </div>

            </div>
        </nav>

    </section>

    <section class="engine"><a rel="external" href="https://mobirise.com">Mobirise Web Site Maker</a></section>
    <section class="mbr-section mbr-section-hero mbr-section-full mbr-parallax-background mbr-section-with-arrow" id="header1-1" style="background-image: url(static/assets/images/mbr-2-2000x1333.jpg);">

        <div class="mbr-table-cell">
            
            <div class="container">
                 <form action="/scrape_movies/" method="post" id="scrape_movies_form" data-form-title="SCRAPE MOVIES">
                  {% csrf_token %}
                <div class="row">
                    <div class="mbr-section col-md-10 col-md-offset-1 text-xs-center">

                        <h1 class="mbr-section-title display-1">SCRAP SWAG</h1>
                        <p class="mbr-section-lead lead">No more trolling the depths of the internet to find out the movies to download</p>
                        <p class="mbr-section-lead lead" id="last_scrape_time" style="font-size:small !important; margin-bottom:1rem">Last scrape done on {{ last_scrape_time }}</p>
                        <div class="mbr-section-btn"><a class="btn btn-lg btn-primary" id="scrap_button" href="#">SCRAPE NOW</a> <a class="btn btn-lg btn-white btn-white-outline" href="#msg-box2-0">REVIEW</a></div>
                    </div>
                </div>
                </form>
            </div>
            <div class="popup-wrap">
            <div class="popup-box" id="popup-box">
              <h2 id="form-results-title" style="font-size:x-large;">Scrape Complete</h2>
              <h3 id="form-results-text" style="font-size:medium;">A sub-heading for the popup with a little description.</h3>
              <a class="close-btn popup-close" href="#">x</a>
            </div>
          </div>
        </div>

        <div class="mbr-arrow mbr-arrow-floating" aria-hidden="true"><a href="#msg-box2-0"><i class="mbr-arrow-icon"></i></a></div>

    </section>

    <section class="mbr-cards mbr-section mbr-section-nopadding" id="spotlight" style="background-color: rgb(239, 239, 239);">
        <h1 class="text-xs-center" style="padding-top: 10px;">Spotlight</h1>
    <div class="mbr-cards-row row">
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
            </div>
    </div>
</section>
    
    
    <section class="mbr-info mbr-section mbr-section-md-padding" id="msg-box2-0" style="background-color: rgb(46, 46, 46); padding-top: 90px; padding-bottom: 90px;">


        <div class="container">
            <div class="row">
                <form action="/filter_movies/" method="post" id="filter-movies-form">
                {% csrf_token %}
                <div class="mbr-table-md-up">
                    <div class="mbr-table-cell mbr-right-padding-md-up col-md-8 text-xs-center text-md-left">
                        <div class="row">
                        <div class="container-pill">
                          <div class="box box-input" style="margin-top: .4em; background:transparent;">
                            <blockquote><span class="bqstart">“</span>
                            <span class="quote-text">Any movie worth it's salt has </span>
                            <span class="number-container">
                            <input id="min_rating" name="min_rating" type="number" min="1" max="10" step=".1" placeholder="6" value="6.0" class="number-input" style="width:2.2em;"/>
                            <span class="fa fa-star fa-lg"></span>
                            </span>
                            <span class="quote-text"> with</span>
                              <span class="number-container">
                            <input id="min_votes" name="min_votes" type="number" min="1000" max="50000" step="500" placeholder="1000" value="1000" class="number-input" style="width:3.6em;"/>
                            </span>
                              <span class="quote-text">votes</span>
                            <span class="bqend">”</span></blockquote> 
                            </div>
                        </div>
                            </div>
                        <div class="row row-eq-height">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-3" style="padding:.7em 0 0 0;">
                                <span class="align-middle" style="color:white;"> Show Read Movies?</span>
                            </div>
                            <div class="col-md-3 pull-left" style="padding:0 0 0 0.5em;">
                                <div class="tg-list">
                                  <div class="tg-list-item">
                                     <input name = "show_read" id="toggleButton" type="checkbox" class="tgl tgl-flip" value="Yes"
                                           {% if show_read %}
                                       checked
                                        {% endif %}
                                       />
                                    <label data-tg-off="Nope" data-tg-on="Yeah!" for="toggleButton" class="tgl-btn"></label>
                                  </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                        
                    </div>
                    <div class="mbr-table-cell col-md-4">
                        <div class="text-xs-center">
                            <div class="row">
                            <button type="submit" class="btn btn-primary btn-lg" id="filter_btn" >YEAH, I AGREE</button>
                            </div>
                            
                            <div class = "row">
                                <a class="btn btn-primary" id = "clear-filter-btn">NAH! SHOW EVERYTHING</a>
                            </div>
                            
                        </div>
                    </div>
                </div>

                </form>

            </div>
        </div>
        <div id="notification_scrape_result" class="container-notification hide">
	   <div class="rectangle">
		<div class="notification-text">
			<i class="fa fa-info-circle"></i>
			<span>&nbsp;&nbsp;This is a test notification.</span>
		</div>
	   </div>
            
        </div>
        <div id="notification_scrape_start" class="container-notification hide">
	   <div class="rectangle">
		<div class="notification-text">
			<i class="fa fa-info-circle"></i>
			<span>&nbsp;&nbsp;Started Scraping sceper.ws</span>
		</div>
	   </div>
            
        </div>


    </section>
    
    <section class="mbr-cards mbr-section mbr-section-nopadding" id="features7-p" style="background-color: rgb(239, 239, 239);">
        <h1 class="text-xs-center" style="padding-top: 10px;">Manage Movies</h1>
    <div class="mbr-cards-row row">
            <div class="form-overlay"></div>
        <!--Update Rating -->
<div class="icon-expanding fa fa-star form-container relevant-icon ripple" id="left">
  <span class="icon-expanding fa fa-close" id="form-close"></span>
</div>
    
    <!--Delete Movies -->
<div class="icon-expanding fa fa-minus-circle form-container relevant-icon form-container-expandable" id="middle1">
  <span class="icon-expanding fa fa-close" id="form-close"></span>
  <div id="form-content">
    <div id="form-head">
      <h1 class="pre">Get in touch</h1>
    </div>
    <form>
      <input class="input name" name="user_name" placeholder="Your name please" type="text"></input>
      <input class="input email" name="user_email" placeholder="A contact email" type="text"></input>
      <select class="input select" name="subject">
        <option>What shall we talk about?</option>
        <option>About a new project</option>
        <option>About a job opportunity</option>
        <option>Let's do this over a coffee</option>
      </select>
      <textarea class="input message" placeholder="How can I help?"></textarea>
      <input class="input submit" type="submit" value="Send Message"></input>
    </form>
  </div>
</div>
<!--Remove Duplicates -->
<div class="icon-expanding fa fa-files-o form-container relevant-icon form-container-expandable" id="middle2">
  <span class="icon-expanding fa fa-close" id="form-close"></span>
  <div id="form-content">
    <div id="form-head">
      <h1 class="pre">Get in touch</h1>
    </div>
    <form>
      <input class="input name" name="user_name" placeholder="Your name please" type="text"></input>
      <input class="input email" name="user_email" placeholder="A contact email" type="text"></input>
      <select class="input select" name="subject">
        <option>What shall we talk about?</option>
        <option>About a new project</option>
        <option>About a job opportunity</option>
        <option>Let's do this over a coffee</option>
      </select>
      <textarea class="input message" placeholder="How can I help?"></textarea>
      <input class="input submit" type="submit" value="Send Message"></input>
    </form>
  </div>
</div>
<!--Mark Read -->
<div class="icon-expanding fa fa-check-circle form-container relevant-icon form-container-expandable" id="right">
  <span class="icon-expanding fa fa-close" id="form-close"></span>
  <div id="form-content">
    <div id="form-head">
      <h1 class="pre">Get in touch</h1>
    </div>
    <form>
      <input class="input name" name="user_name" placeholder="Your name please" type="text"></input>
      <input class="input email" name="user_email" placeholder="A contact email" type="text"></input>
      <select class="input select" name="subject">
        <option>What shall we talk about?</option>
        <option>About a new project</option>
        <option>About a job opportunity</option>
        <option>Let's do this over a coffee</option>
      </select>
      <textarea class="input message" placeholder="How can I help?"></textarea>
      <input class="input submit" type="submit" value="Send Message"></input>
    </form>
  </div>
</div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img iconbox" style="visibility:hidden;">
                        <a href="https://mobirise.com" class="etst" style="color: rgb(255, 255, 255);">
<!--                            <i class="fa fa-info-circle fa-2x" style="color:black;"></i>-->
                        </a>
                    </div>
                    <div class="card-block">
                        <a class="btn btn-primary disabled" style="background-color: #e25041 !important;border-color: #e25041 !important; opacity:1 !important;" id = "update_ratings">Update Ratings</a>
                        
                        
                    </div>
                </div>
          </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img iconbox" style="visibility:hidden;">
                        <a href="https://mobirise.com" class="etst" style="color: rgb(255, 255, 255);">
<!--                            <i class="fa fa-info-circle fa-2x" style="color:black;"></i>-->
                        </a>
                    </div>
                    <div class="card-block">
                        <a class="btn btn-primary disabled" style="background-color: #e25041 !important;border-color: #e25041 !important; opacity:1 !important;" id = "update_ratings">Delete Movies</a>
                        
                        
                    </div>
                </div>
          </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img iconbox" style="visibility:hidden;">
                        <a href="https://mobirise.com" class="etst" style="color: rgb(255, 255, 255);">
<!--                            <i class="fa fa-info-circle fa-2x" style="color:black;"></i>-->
                        </a>
                    </div>
                    <div class="card-block">
                        <a class="btn btn-primary disabled" style="background-color: #e25041 !important;border-color: #e25041 !important; opacity:1 !important;" id = "update_ratings">Remove Duplicates</a>
                        
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img iconbox"  style="visibility:hidden;">
                        <a href="https://mobirise.com" class="etst" style="color: rgb(255, 255, 255);">
<!--                            <i class="fa fa-info-circle fa-2x" style="color:black;"></i>-->
                        </a>
                    </div>
                    <div class="card-block">
                        <a class="btn btn-primary disabled" style="background-color: #e25041 !important;border-color: #e25041 !important; opacity:1 !important;" id = "update_ratings">Mark Read</a>
                        
                        
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>

    <footer class="mbr-small-footer mbr-section mbr-section-nopadding" id="footer1-2" style="background-color: rgb(249, 249, 249); padding-top: 1.75rem; padding-bottom: 1.75rem;">

        <div class="container">
            <p class="text-xs-center">Copyright (c) 2017 Manu Joseph.</p>
        </div>
    </footer>

     
    <script src="{% static 'assets/web/assets/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'assets/tether/tether.min.js' %}"></script>
    <script src="{% static 'assets/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/smooth-scroll/smooth-scroll.js' %}"></script>
    <script src="{% static 'assets/dropdown/js/script.min.js' %}"></script>
    <script src="{% static 'assets/touch-swipe/jquery.touch-swipe.min.js' %}"></script>
    <script src="{% static 'assets/viewport-checker/jquery.viewportchecker.js' %}"></script>
    <script src="{% static 'assets/jarallax/jarallax.js' %}"></script>
    <script src="{% static 'assets/theme/js/script.js' %}"></script>
    <script src="{% static 'assets/formoid/formoid.min.js' %}"></script>
    <script src="{% static 'assets/theme/js/ajax-script.js' %}"></script>
    
    <script type="text/javascript">

//        var formContainer = $('.form-container');

bindFormClickInit();
//init the form
function bindFormClickInit(){  
  $('.form-container-expandable').on('click', function(e) {
    e.preventDefault();
    var id = $(this).prop('id');
      $("#"+id+".form-container-expandable").attr('style','z-index:1002;');
    toggleForm(id);
    //Ensure container doesn't togleForm when open
//    $(this).off();
      $("#"+id+".form-container-expandable").off();
  });
}

//Opening the form
function bindFormClick(id){
  $("#"+id+".form-container-expandable").on('click', function(e) {
    e.preventDefault();
    var id = $(this).prop('id');
    $("#"+id+".form-container-expandable").attr('style','z-index:1002;');
    toggleForm(id);
      
    //Ensure container doesn't togleForm when open
//    $(this).off();
      $("#"+id+".form-container-expandable").off();
  });
}

//Closing the form
$('#form-close, .form-overlay').click(function(e) {
  e.stopPropagation();
  e.preventDefault();
  var id = $(this).closest("div").prop("id");
    toggleForm(id);
    setTimeout(
  function() 
  {
    //do something special
      $("#"+id+".form-container-expandable").attr('style','z-index:1000;');
  }, 500);
    
  bindFormClick(id);
});

function toggleForm(id){
  $("#"+id+".form-container-expandable").toggleClass('expand');
  $("#"+id+".form-container-expandable").children().toggleClass('expand');
  $('body').toggleClass('show-form-overlay');
  $('.form-submitted').removeClass('form-submitted');
}

//Form validation
$('form').submit(function() {
  var form = $(this);
  form.find('.form-error').removeClass('form-error');
  var formError = false;
  
  form.find('.input').each(function() {
    if ($(this).val() == '') {
      $(this).addClass('form-error');
      $(this).select();
      formError = true;
      return false;
    }
    else if ($(this).hasClass('email') && !isValidEmail($(this).val())) {
      $(this).addClass('form-error');
      $(this).select();
      formError = true;
      return false;
    }
  });
  
  if (!formError) {
    $('body').addClass('form-submitted');
    $('#form-head').addClass('form-submitted'); 
    setTimeout(function(){
      $(form).trigger("reset");
    }, 1000);
  }
  return false;
});

function isValidEmail(email) {
    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test(email);
};

        
        
        
        
        $(document).ready(function() {
          $('#scrap_button').click(function(e) {
              $('#scrap_button').addClass('disabled')
              $('#scrape_movies_form').submit();
          });

          $('.popup-close').click(function(e) {
            $('.popup-wrap').fadeOut(500);
            $('.popup-box').removeClass('transform-in').addClass('transform-out');

            e.preventDefault();
          });
            
            $('#scrape_movies_form').on('submit', function(event){
            event.preventDefault();
            console.log("form submitted!")  // sanity check
            scrape_movies();
        });
        
            $("#clear-filter-btn").on('click', function(){
                console.log("on click!");  // sanity check
                $('#min_rating').val(0);
                $('#min_votes').val(0);
                $('#toggleButton').removeAttr('checked');
                $('#filter-movies-form').submit()
            });
        });
        
        
        
        
        
    </script>
     <input name="animation" type="hidden"> 
</body>

</html>